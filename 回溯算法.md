# KMP
```c++
#include <iostream>
#include <string>
using namespace std;
 
void getnext(string p, int next[])
{
	int i = 0, j = -1;
 
	next[0] = -1;
	while(i < p.length()-1)
	{
		if(j == -1 || p[i] == p[j])		//向前匹配；
		{
			j++;
			i++;
			next[i] = j;			    //为next数组赋值；
		}
		else
			j = next[j];		        //往前回溯；
	}
}

int kmpmatch(char *s, char *t)
{
	int i = 0, j = 0;
	int n = strlen(s);
	int m = strlen(t);
	int *next = new int[m+1];
	getnext(t, next);
	while(i < n && j < m)
	{
		if(j == -1 || s[i] == t[j])        //满足条件则向下一个字符匹配；
		{
			j++;
			i++;
		}
		else
			j = next[j];    //子字符串向前回溯；主字符串下标不变；
	}
	if(j == m)
		return i - m;        //返回子字符串在主字符串中第一次出现的位置；
	else
		return -1;            //没有找到则返回-1；
}
 
int main()
{
	char *str = "ababcabcacb";
	char *ptr = "abcac";
	cout << str << endl << ptr << endl;
	int result = kmpmatch(str, ptr);
	if(result == -1)
		cout <<"没有匹配结果" << endl;
	else
		cout << "在第 " << result+1 << " 个字符位置首次出现" << endl;
	return 0;
}
```
